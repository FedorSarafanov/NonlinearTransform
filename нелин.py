import numpy as np
from matplotlib import pyplot as plt
from matplotlib import animation

u_in=2#v
f  =  [400,405,410,415,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,435.1,435.2,435.3,435.4,435.5,435.6,435.7,435.8,435.9,436,436.1,436.2,436.3,436.4,436.5,436.6,436.7,436.8,436.9,436.973,436.984]#kHz
u_out=[16.8,17.2,16.2,17.6,20.00,20,21,22.4,23.2,23.7,24,25.2,27.5,28,31.2,33.6,36.8,42.4,50,59.2,60,61.6,62.4,64,66,66.2,66.4,69.2,70,71.2,71.2,71.2,74.4,76,77,78,79.2,79.2,79.2,80.8,12.8]#mV
f2=    [437.5,	438,	439,	440,	441,	442,	443,	444,	445,	446,	447,	448,	449,	450,	455,	460,	465,	475,	485,	490,	495,	500]
u_out2=[77.6,	73.6,	63.2,	52.0,	44.8,	38.4,	34.6,	32.8,	28.2,	28,  	25.4,	24 ,	24.8,	21.6,	20.0,	17.5,	16.0,	16.0,	14.4,	13.6,	13.6,	12.8]
# print(len(f),len(u_out))

# plt.plot(f,u_out,'-r',f2,u_out2,'-r')
# plt.show()

# 2 задание 
#f, kGz
# f=[100,110,120,122,124,126,127,128,129,130,131,132,135,140,145,150,155,160,162,164,166,168,170,171,172,173]
#out, mV
# u=[36, 40,48,48,56,64,80,100,160,144,92,72,60,60,68,84,100,120,136,152,176,212,260,300,352,428]

ff,uu=np.array([
	[100, 36],
	[110, 40],
	[120, 48],
	[122, 48],
	[124, 56],
	[126, 64],
	[127, 80],
	[128, 100],
	[129, 160],
	[130, 144],
	[131, 92],
	[132, 72],
	[135, 60],
	[140, 60],
	[145, 68],
	[150, 84],
	[155, 100],
	[160, 120],
	[162, 136],
	[164, 152],
	[166, 176],
	[168, 212],
	[170, 260],
	[171, 300],
	[172, 352],
	[173, 428],
	[174,556],
	[175,688],
	[176,952],
	[177,1340],
	[178,1440],
	[179,1080],
	[180,780],
	[181,620],
	[182,480],
	[183,420],
	[184,360],
	[185,320],
	[187,260],
	[189,240],
	[190,220],
	[192,200],
	[194,180],
	[196,160],
	[197,160],
	[197,160],
	[202,160],
	[203,160],
	[204,200],
	[205,300],
	[206,200],
	[207,160],
	[208,140],
	[210,160],
	[215,120],
	[220,120],
	[225,120],
	[230,120],
	[231,180],
	[232,260],
	[233,200],
	[234,140],
	[235,140],
	[240,140],
	[245,160],
	[250,200],
	[252,240],
	[254,300],
	[255,360],
	[256,440],
	[257,580],
	[258,840],
	[259,1000],
	[260,760],
	[261,540],
	[262,420],
	[263,380],
	[264,320],
	[265,280],
	[266,250],
	[267,220],
	[268,200],
	[269,200],
	[270,180],
	[275,160],
	[280,120],
	[285,120],
	[290,120],
	[295,120],
	[297,120],
	[299,100],
	[300,100],
	[302,100],
	[304,120],
	[305,140],
	[306,180],
	[307,300],
	[308,220],
	[309,140],
	[310,120],
	[315,100],
	[320,80],
	[325,80],
	[330,80],
	[335,80],
	[340,80],
	[345,100],
	[346,120],
	[347,160],
	[348,220],
	[349,140],
	[350,120],
	[351,100],
	[352,80],
	[360,80],
	[370,80],
	[380,80],
	[400,40],
	[420,40],
	[440,40],
	[460,40],
	[480,46],
	[485,40],
	[490,40],
	[495,64],
	[496,84],
	[497,56],
	[498,52],
	[500,44],
	[505,40],
	[510,44],
	[515,44],
	[520,62],
	[522,88],
	[523,130],
	[524,134],
	[525,206],
	[526,176],
	[527,116],
	[528,92],
	[529,78],
	[530,70],
	[535,60],
	[540,56],
	[545,54],
	[550,56],
	[555,60],
	[560,66],
	[561,68],
	[562,74],
	[563,80],
	[564,96],
	[565,134],
	[566,194],
	[567,120],
	[568,92],
	[569,64],
	[570,64],
	[580,68],
	[585,72],
	[586,72],
	[587,76],
	[588,76],
	[589,80],
	[590,100],
	[591,88],
	[592,88],
	[593,84],
	[594,88],
	[595,92],
	[600,120],
	[602,132],
	[604,156],
	[606,180],
	[608,232],
	[609,268],
	[610,332],
	[611,408],
	[612,528],
	[613,760],
	[614,1030],
	[615,872],
	[616,600],
	[617,448],
	[618,344],
	[619,272],
	[620,240],
	[621,208],
	[622,192],
	[623,176],
	[624,152],
	[626,128],
	[628,112],
	[630,104],
	[635,80],
	[640,80],
	[650,64],
	[660,64],
	[680,80],
	[685,88],
	[690,152],
	[691,184],
	[692,216],
	[693,280],
	[694,384],
	[695,520],
	[696,512],
	[697,368],
	[698,280],
	[699,224],
	[700,184],
	[702,144],
	[704,120],
	[706,96],
	[708,80],
	[710,80],
	[720,64],
	[740,64],
	[741,80],
	[742,100],
	[743,160],
	[744,176],
	[745,104],
	[746,80],
	[747,72],
	[748,80],
	[750,64],
	[760,48],
	[770,48],
	[775,48],
	[770,50],
	[780,50],
	[781,56],
	[782,56],
	[783,72],
	[784,104],
	[785,88],
	[786,80],
	[787,64],
	[788,64],
	[790,48],
	[800,38],
	[805,42],
	[810,42],
	[814,60],
	[815,42],
	[816,38],
	[817,36],
	[818,36],
	[820,36],
	[830,36],
	[850,36],
	[870,34],
	[890,32],
	[900,32],
	[920,28],
	[940,32],
	[950,32],
	[955,36],
	[957,44],
	[958,46],
	[959,64],
	[960,64],
	[961,76],
	[962,100],
	[963,64],
	[964,50],
	[966,38],
	[970,34],
	[980,34],
	[990,36],
	[1000,46],
    ]).T
# plt.plot(ff,uu,'-r')
# plt.show()

# детекторная хар-ка. f=140kHz
#mv, mv
uin,uout=np.array([
	[100,7.7],
	[110,8.1],
	[120,9.0],
	[130,9.5],
	[140,11],
	[150,12.2],
	[160,13.8],
	[170,15.5],
	[180,17.5],
	[190,18.6],
	[200,20.5],
	[300,44.2],
	[400,68.2],
	[500,92.1],
	[600,118],
	[700,141],
	[800,168],
	[900,200],
	[1000,226],
	[1100,255],
	[1200,285],
	[1300,314],
	[1400,344],
	[1500,372],
	[1600,402],
	[1700,433],
	[1800,464],
	[1900,494],
	[2000,523]
    ]).T

# plt.plot(uin,uout,'-r')
# plt.show()

# Задание номер 3 - модулированный сигнал. Глубина модуляции 30%
# uin_max=1V, R1 C1
# kHz, mv
amfreq,uout_3=np.array([
	[1,232],
	[2,234],
	[3,232],
	[4,230],
	[5,228],
	[6,230],
	[7,232],
	[8,230],
	[9,234],
	[10,228],
	[11,232],
	[12,232],
	[13,228],
	[14,232],
	[15,230],
    ]).T

# plt.plot(amfreq,uout_3,'-r')
# plt.show()

# uin_max=1V, R2 C2
# kHz, mv
amfreq2,uout_32=np.array([
	[1,162],
	[1.5,158],
	[2,156],
	[2.5,152],
	[3,148],
	[3.5,138],
	[4,132],
	[4.5,126],
	[5,116],
	[5.5,112],
	[6,106],
	[7,100],
	[8,92],
	[9,86],
	[10,82],
	[11,76],
	[12,72],
	[13,66],
	[14,62],
	[15,60],
    ]).T

# plt.plot(amfreq2,uout_32,'-r')
# plt.show()

# резонансные зар-ки R2C2 детекторная нагрузка, диод включен
freq34,uout_34=np.array([
	#
	[30,38],
	[50,64.2],
	[70,100],
	[80,128],
	[100,222],
	[105,262],
	[110,320],
	[115,425],
	[117,472],
	[120,560],
	[122,640],
	[124,752],
	[126,904],
	[128,1130],
	[129,1520],
	[130,1760],
	[131,2000],
	[132,2480],
	[133,3200],
	[134,4560],
	[135,6720],
	[135.5,7600],
	[135.6,7680],
	[135.7,7680],
	[135.8,7680],
	[135.9,7600],
	[136,7440],
	[136.5,6400],
	[137,5280],
	[137.5,4400],
	[138,3760],
	[138.5,3200],
	[139,2800],
	[139.5,2480],
	[140,2320],
	[140.5,2160],
	[141,1800],
	[142,1560],
	[143,1400],
	[144,1240],
	[145,1080],
	[150,720],
	[155,520],
	[160,424],
	[165,362],
	[170,312],
	[180,256],
	[190,214],
	[200,174],
	[220,138],
	[250,106],
	[270,98],
	[290,86],
	[310,82],
	[330,74],
	[350,66],
	[370,64],
	[390,60],
	[400,56],
    ]).T

plt.plot(freq34,uout_34,'-b')
# plt.show()


# резонансные зар-ки R2C2 детекторная нагрузка, диод выключен
freq342,uout_342=np.array([
	#
	[30,38],
	[50,64],
	[70,98],
	[90,164],
	[100,214],
	[105,260],
	[107,280],
	[110,316],
	[112,346],
	[114,392],
	[116,424],
	[118,480],
	[120,512],
	[122,624],
	[124,744],
	[126,896],
	[128,1120],
	[129,1290],
	[130,1510],
	[130.5,1720],
	[131,1880],
	[131.5,2100],
	[132,2380],
	[132.5,2700],
	[133,3140],
	[133.5,3760],
	[134,4640],
	[134.5,5960],
	[135,7840],
	[135.1,8280],
	[135.2,8680],
	[135.3,9080],
	[135.4,9400],
	[135.42,9480],
	[135.46,9560],
	[135.5,9600],
	[135.510,9680],
	[135.530,9720],
	[135.560,9800],
	[135.620,9840],
	[135.678,9920],
	[136,9440],
	[136.5,7520],
	[137,5760],
	[137.5,4560],
	[138,3720],
	[138.5,3140],
	[139,2720],
	[139.5,2400],
	[140,2120],
	[145,1000],
	[150,672],
	[175,264],
	[200,176],
	[225,132],
	[250,110],
	[275,93],
	[300,82.4],
	[350,68],
	[400,56],
    ]).T

plt.plot(freq342,uout_342,'-r')
plt.show()

#  20 дел=220ком, у нас 9.5 делений

R_ekv=220000/20*9.5
print(R_ekv)